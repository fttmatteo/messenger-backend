# Nombre de la aplicación Spring Boot
spring.application.name=messenger

# URL de conexión a MySQL (base de datos: messenger, zona horaria: Bogotá)
spring.datasource.url=jdbc:mysql://localhost:3306/messenger?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=America/Bogota

# Usuario de la base de datos MySQL
spring.datasource.username=root

# Contraseña de la base de datos (vacía en desarrollo local)
spring.datasource.password=

# Driver JDBC para MySQL
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Modo de creación de esquema: update = actualiza tablas sin borrar datos
spring.jpa.hibernate.ddl-auto=update

# Mostrar las consultas SQL en la consola (útil para debug)
spring.jpa.show-sql=true

# Ejecutar scripts SQL de inicialización siempre al arrancar
spring.sql.init.mode=always

# Esperar a que Hibernate cree las tablas antes de ejecutar data.sql
spring.jpa.defer-datasource-initialization=true

# Ruta donde se guardan las fotos (detections, evidence, signatures)
app.storage.path=/Users/Matteo/Desktop/messenger-backend/uploads

# Tamaño máximo por archivo subido (10MB para fotos de alta calidad)
spring.servlet.multipart.max-file-size=10MB

# Tamaño máximo de toda la solicitud HTTP (incluye todos los archivos)
spring.servlet.multipart.max-request-size=10MB

# Clave secreta para firmar tokens JWT (cambiar en producción)
jwt.secret=bWVzc2VuZ2VyU2VjcmV0S2V5Rm9yUHJvZHVjdGlvblVzZVN0cm9uZ1JhbmRvbUtleUhlcmVDaGFuZ2VUaGlzSW5Qcm9kdWN0aW9u

# Tiempo de expiración del token JWT (1800000 ms = 30 minutos)
jwt.expiration=1800000

# Ruta al archivo de credenciales de Google Cloud Vision API
google.cloud.credentials.path=config/google-vision-credentials.json

# ============================================
# Google Maps Configuration
# ============================================
# Ruta al archivo con la API Key de Google Maps
google.maps.config.path=config/google-maps-config.properties

# ============================================
# Tracking Configuration
# ============================================
# Intervalo de actualización de ubicación en milisegundos (30 segundos)
tracking.update.interval=30000

# Distancia máxima permitida para validar entrega (metros)
tracking.max.distance.validation=200

# Días de retención del historial de tracking
tracking.history.retention.days=30

# ============================================
# Redis Configuration (para tracking en tiempo real)
# ============================================
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=60000

# ============================================
# WebSocket Configuration
# ============================================
websocket.allowed.origins=http://localhost:3000,http://localhost:5173,http://localhost:4200